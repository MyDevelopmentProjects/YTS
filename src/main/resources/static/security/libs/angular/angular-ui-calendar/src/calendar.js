angular.module("ui.calendar",[]).constant("uiCalendarConfig",{calendars:{}}).controller("uiCalendarCtrl",["$scope","$locale",function(h,t){var q=h.eventSources,u=h.calendarWatchEvent?h.calendarWatchEvent:angular.noop,v=function(a){return function(){if(h.$root.$$phase)return a.apply(this,arguments);var b=arguments,d=this;return h.$root.$apply(function(){return a.apply(d,b)})}},w=1;this.eventFingerprint=function(a){a._id||(a._id=w++);return""+a._id+(a.id||"")+(a.title||"")+(a.url||"")+(+a.start||"")+
    (+a.end||"")+(a.allDay||"")+(a.className||"")+u({event:a})||""};var x=1,y=1;this.sourceFingerprint=function(a){var b=""+(a.__id||(a.__id=x++));if(a=angular.isObject(a)&&a.events)b=b+"-"+(a.__id||(a.__id=y++));return b};this.allEvents=function(){for(var a=[],b=0,d=q.length;b<d;b++){var e=q[b];if(angular.isArray(e))a.push(e);else if(angular.isObject(e)&&angular.isArray(e.events)){var f={},g;for(g in e)"_id"!==g&&"events"!==g&&(f[g]=e[g]);for(var l=0;l<e.events.length;l++)angular.extend(e.events[l],
    f);a.push(e.events)}}return Array.prototype.concat.apply([],a)};this.changeWatcher=function(a,b){var d,e=function(){for(var d=angular.isFunction(a)?a():a,e=[],f,r,c=0,m=d.length;c<m;c++)r=d[c],f=b(r),g[f]=r,e.push(f);return e},f=function(a,d){var e=[],b={},c,f;c=0;for(f=d.length;c<f;c++)b[d[c]]=!0;c=0;for(f=a.length;c<f;c++)b[a[c]]||e.push(a[c]);return e},g={};return d={subscribe:function(a,h){a.$watch(e,function(a,e){if(!h||!1!==h(a,e)){var c,m,n,p,l={};p=f(e,a);c=0;for(m=p.length;c<m;c++){var k=
    p[c];n=g[k];delete g[k];var q=b(n);if(q===k)d.onRemoved(n);else l[q]=k,d.onChanged(n)}k=f(a,e);c=0;for(m=k.length;c<m;c++)if(p=k[c],n=g[p],!l[p])d.onAdded(n)}},!0)},onAdded:angular.noop,onChanged:angular.noop,onRemoved:angular.noop}};this.getFullCalendarConfig=function(a,b){var d={};angular.extend(d,b);angular.extend(d,a);angular.forEach(d,function(a,b){"function"===typeof a&&(d[b]=v(d[b]))});return d};this.getLocaleConfig=function(a){if(!a.lang||a.useNgLocale){a=function(a){var b,f;b=[];for(f in a)b[f]=
    a[f];return b};var b=t.DATETIME_FORMATS;return{monthNames:a(b.MONTH),monthNamesShort:a(b.SHORTMONTH),dayNames:a(b.DAY),dayNamesShort:a(b.SHORTDAY)}}return{}}}]);